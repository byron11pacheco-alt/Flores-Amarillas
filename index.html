<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feliz 21 de Septiembre</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: 'Segoe UI', sans-serif;
        background: #111; /* fondo base */
        color: #ccc;
    }
    canvas {
        display: block;
    }
    #startBtn {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #FFD700;
        color: #000;
        padding: 20px 40px;
        font-size: 2rem;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        z-index: 10;
        box-shadow: 0 0 20px #FFD700;
    }
    #bgMusic {
        display: none;
    }
</style>
</head>
<body>

<button id="startBtn">Presiona aqu√≠ üåº</button>
<audio id="bgMusic" src="https://www.bensound.com/bensound-music/bensound-romantic.mp3"></audio>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let W = canvas.width = window.innerWidth;
let H = canvas.height = window.innerHeight;

window.addEventListener('resize', ()=>{
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
});

const startBtn = document.getElementById('startBtn');
const bgMusic = document.getElementById('bgMusic');

// ================== PARTICULAS ==================
class Particle {
    constructor(x,y, color, size, vx, vy){
        this.x = x;
        this.y = y;
        this.color = color;
        this.size = size;
        this.vx = vx;
        this.vy = vy;
        this.alpha = 1;
    }
    update(){
        this.x += this.vx;
        this.y += this.vy;
        if(this.alpha>0) this.alpha -= 0.002;
    }
    draw(){
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
        ctx.fill();
        ctx.globalAlpha = 1;
    }
}

// ================== FLORES ==================
let flowers = [];
function createFlower(x, y){
    // Raices: marron
    for(let i=0;i<50;i++){
        flowers.push(new Particle(
            x, y + Math.random()*50,
            'saddlebrown',
            Math.random()*2+1,
            (Math.random()-0.5)*0.5,
            -Math.random()*1.5
        ));
    }
    // Hojas: verdes
    for(let i=0;i<100;i++){
        flowers.push(new Particle(
            x + (Math.random()-0.5)*30,
            y - Math.random()*10,
            'green',
            Math.random()*2+1,
            (Math.random()-0.5)*1,
            -Math.random()*1
        ));
    }
    // Centro: amarillo/naranja
    for(let i=0;i<150;i++){
        flowers.push(new Particle(
            x + (Math.random()-0.5)*15,
            y - Math.random()*20,
            `hsl(${Math.random()*40+40}, 100%, 50%)`,
            Math.random()*2+1,
            (Math.random()-0.5)*0.5,
            -Math.random()*0.5
        ));
    }
}

// ================== TORTUGA ==================
let turtle = {x: W/2, y: H, angle: -Math.PI/2, radius: 200, path: []};
function drawTurtle(){
    // cuerpo tortuga
    ctx.fillStyle = 'darkgreen';
    ctx.beginPath();
    ctx.arc(turtle.x, turtle.y, 15, 0, Math.PI*2);
    ctx.fill();
    // rastro corazones
    turtle.path.forEach(p=>{
        ctx.fillStyle = 'red';
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
        ctx.fill();
    });
}

// ================== TEXTOS ==================
const texts = [
    "Si los astronautas te vieran, no necesitar√≠an salir de la tierra para explorar la grandeza",
    "En tus ojos, veo el sol; en tu cabello el amor; en tu cuerpo, el valor; y en tu sonrisa, la perfecci√≥n",
    "‚ÄúSi hago cosas no es para que me quieras, sino para que veas que te quiero‚Äù ‚Äî Mario Bennedetti",
    "Si no es eterno, que sea inolvidable",
    "Y fin colorado, este amor ha comenzado",
    "¬°Te amo de aqu√≠ a la Luna, a pasitos de tortuga!"
];
let currentText = 0;
let textTimer = 0;

// ================== ANIMACION ==================
let particles = [];
let frame = 0;
let started = false;
function animate(){
    ctx.clearRect(0,0,W,H);

    // fondo estilo Van Gogh (simulado)
    for(let i=0;i<200;i++){
        ctx.fillStyle = `hsl(${Math.random()*360}, 50%, 15%)`;
        ctx.fillRect(Math.random()*W, Math.random()*H, 2,2);
    }

    // dibujar part√≠culas
    particles.forEach(p=>{ p.update(); p.draw(); });
    
    // dibujar flores
    flowers.forEach(f=>{ f.update(); f.draw(); });

    // tortuga
    if(started && currentText>=5){
        let tSpeed = 0.02;
        turtle.angle += tSpeed;
        turtle.x = W/2 + Math.cos(turtle.angle)*turtle.radius;
        turtle.y = H/2 + Math.sin(turtle.angle)*turtle.radius;
        turtle.path.push({x:turtle.x, y:turtle.y, size:3});
        if(turtle.path.length>50) turtle.path.shift();
        drawTurtle();
    }

    // texto
    ctx.fillStyle = 'lightgray';
    ctx.font = '30px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    if(currentText<texts.length){
        ctx.fillText(texts[currentText], W/2, 100);
        textTimer++;
        if(textTimer>600){ // cada texto ~10s
            currentText++;
            textTimer=0;
            if(currentText===1) createFlower(W/2,H-100);
            if(currentText===2) createFlower(W/3,H-120);
            if(currentText===3) createFlower(2*W/3,H-130);
            if(currentText===4) createFlower(W/4,H-140);
            if(currentText===5) createFlower(3*W/4,H-150);
        }
    } else {
        // explosion final
        for(let i=0;i<500;i++){
            particles.push(new Particle(
                W/2 + (Math.random()-0.5)*100,
                H/2 + (Math.random()-0.5)*100,
                `hsl(${Math.random()*360},100%,50%)`,
                Math.random()*3+1,
                (Math.random()-0.5)*4,
                (Math.random()-0.5)*4
            ));
        }
        ctx.fillStyle = 'white';
        ctx.font = '50px "Segoe UI", sans-serif';
        ctx.fillText('FIN. NO SER√ÅS ESPECTADORA', W/2, H/2);
    }

    frame++;
    requestAnimationFrame(animate);
}

// ================== INICIO ==================
startBtn.addEventListener('click', ()=>{
    startBtn.style.display = 'none';
    bgMusic.play();
    started = true;
    animate();
});
</script>
</body>
</html>
