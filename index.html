<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flor y Tortuga Animadas</title>
<style>
/* ===== FONDO DINÁMICO ===== */
body {
  margin: 0;
  overflow: hidden;
  background: linear-gradient(to top, #001a33, #003366, #0055aa);
  font-family: 'Segoe UI', sans-serif;
}

/* TEXTO INICIAL ESTILO GRAFFITI */
.title {
  position: absolute;
  width: 100%;
  text-align: center;
  font-size: 3rem;
  top: 10%;
  color: #ff00ff;
  font-family: 'Comic Sans MS', cursive, sans-serif;
  text-shadow: 2px 2px 5px #000, -2px -2px 5px #fff;
  animation: flicker 1s infinite alternate;
}
.subtitle {
  position: absolute;
  width: 100%;
  text-align: center;
  font-size: 2rem;
  top: 20%;
  color: #00ffcc;
  text-shadow: 2px 2px 5px #000, -2px -2px 5px #fff;
  animation: flicker 1s infinite alternate-reverse;
}
@keyframes flicker {
  0% {opacity:1; transform:rotate(-2deg);}
  50% {opacity:0.8; transform:rotate(2deg);}
  100% {opacity:1; transform:rotate(-1deg);}
}

/* FLOR CENTRAL Y FLORES SECUNDARIAS */
#flowerContainer, .secondaryFlower {
  position: absolute;
  bottom: 5%;
  left: 50%;
  transform: translateX(-50%);
}
.dot {
  position: absolute;
  border-radius: 50%;
  opacity: 0;
}
.dot.root { background: #5a3e1b; width: 4px; height: 4px; }
.dot.leaf { background: green; width: 6px; height: 6px; }
.dot.center { background: yellow; width: 8px; height: 8px; }

/* TORTUGA */
.turtle {
  position: absolute;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: green;
  opacity: 0;
  z-index: 5;
}
.heart {
  position: absolute;
  width: 10px;
  height: 10px;
  background: red;
  transform: rotate(-45deg);
  clip-path: polygon(50% 0%, 100% 35%, 75% 100%, 50% 80%, 25% 100%, 0% 35%);
  opacity: 0.7;
  z-index: 4;
}

/* LUNA */
.moon {
  position: absolute;
  width: 80px;
  height: 80px;
  background: radial-gradient(circle at center, #fff 40%, #ccc 100%);
  border-radius: 50%;
  top: 10%;
  right: 10%;
  opacity: 0;
  z-index: 4;
}

/* TEXTO FINAL */
#finalText {
  position: absolute;
  top:50%;
  left:50%;
  transform: translate(-50%, -50%);
  font-size:3rem;
  font-weight:bold;
  opacity:0;
  text-align:center;
}
</style>
</head>
<body>

<button id="startBtn">¡Empezar Animación!</button>

<div class="title">Feliz 21 de Septiembre</div>
<div class="subtitle">Esto faltaba</div>

<div id="flowerContainer"></div>
<div class="secondaryFlower"></div>

<div class="turtle" id="turtle"></div>
<div class="moon" id="moon"></div>

<div id="finalText">FIN. NO SERÁS ESPECTADORA</div>

<script>
const startBtn = document.getElementById('startBtn');
const flowerContainer = document.getElementById('flowerContainer');
const turtle = document.getElementById('turtle');
const moon = document.getElementById('moon');
const finalText = document.getElementById('finalText');
const body = document.body;

/* OCULTAR BOTÓN Y TEXTOS INICIALES */
startBtn.addEventListener('click', ()=>{
  startBtn.style.display='none';
  document.querySelector('.title').style.opacity=0;
  document.querySelector('.subtitle').style.opacity=0;

  createMainFlower();
  createSecondaryFlowers();
  setTimeout(()=>{startTurtle();}, 8000);
  setTimeout(()=>{explodeFlowers();}, 15000);
});

/* ===== FUNCIONES FLOR CENTRAL ===== */
function createMainFlower(){
  const totalRoots=500;
  for(let i=0;i<totalRoots;i++){
    const dot=document.createElement('div');
    dot.className='dot root';
    dot.style.left=(Math.random()*80-40)+'px';
    dot.style.bottom='0px';
    flowerContainer.appendChild(dot);
    setTimeout(()=>{
      dot.style.transition='all 4s ease';
      dot.style.bottom=(100+Math.random()*100)+'px';
      dot.style.opacity=1;
    }, i*5);
  }

  // hojas verdes
  const totalLeaves=300;
  for(let i=0;i<totalLeaves;i++){
    const leaf=document.createElement('div');
    leaf.className='dot leaf';
    leaf.style.left=(Math.random()*120-60)+'px';
    leaf.style.bottom=(50+Math.random()*100)+'px';
    flowerContainer.appendChild(leaf);
    setTimeout(()=>{leaf.style.opacity=1;}, i*8);
  }

  // centro amarillo/naranja
  const totalCenter=400;
  for(let i=0;i<totalCenter;i++){
    const center=document.createElement('div');
    center.className='dot center';
    center.style.left=(Math.random()*50-25)+'px';
    center.style.bottom=(120+Math.random()*60)+'px';
    center.style.backgroundColor=`hsl(${Math.random()*50+40},100%,50%)`;
    flowerContainer.appendChild(center);
    setTimeout(()=>{center.style.opacity=1;}, i*10);
  }
}

/* ===== FLORES SECUNDARIAS ===== */
function createSecondaryFlowers(){
  for(let f=0; f<3; f++){
    const container=document.createElement('div');
    container.className='secondaryFlower';
    container.style.left=(Math.random()*80+10)+'%';
    container.style.bottom='10%';
    body.appendChild(container);
    for(let i=0;i<200;i++){
      const dot=document.createElement('div');
      dot.className='dot leaf';
      dot.style.left=(Math.random()*60-30)+'px';
      dot.style.bottom=(Math.random()*80)+'px';
      container.appendChild(dot);
      setTimeout(()=>{dot.style.opacity=1;}, i*15);
    }
  }
}

/* ===== TORTUGA CON RASTRO DE CORAZONES ===== */
function startTurtle(){
  turtle.style.opacity=1;
  moon.style.opacity=1;
  const totalHearts=80;
  const hearts=[];
  for(let i=0;i<totalHearts;i++){
    const h=document.createElement('div');
    h.className='heart';
    body.appendChild(h);
    hearts.push(h);
  }

  let angle=0;
  const radius=Math.min(window.innerWidth, window.innerHeight)/3;
  const centerX=window.innerWidth/2;
  const centerY=window.innerHeight/2+50;

  const animateTurtle=()=>{
    angle+=0.01;
    const x=centerX + radius*Math.cos(angle) -20;
    const y=centerY + radius*Math.sin(angle) -20;
    turtle.style.left=x+'px';
    turtle.style.top=y+'px';
    hearts.forEach((h,i)=>{
      const hx=x+Math.cos(angle+i/5)*20;
      const hy=y+Math.sin(angle+i/5)*20;
      h.style.left=hx+'px';
      h.style.top=hy+'px';
      h.style.background=`hsl(${i*10},100%,50%)`;
      h.style.opacity=Math.random();
    });
    if(angle<2*Math.PI){
      requestAnimationFrame(animateTurtle);
    }
  };
  animateTurtle();
}

/* ===== EXPLOSIÓN FINAL ===== */
function explodeFlowers(){
  const dots=document.querySelectorAll('.dot');
  dots.forEach(dot=>{
    dot.style.transition='all 2s ease';
    const angle=Math.random()*2*Math.PI;
    const distance=300+Math.random()*200;
    dot.style.transform=`translate(${Math.cos(angle)*distance}px, ${Math.sin(angle)*distance}px) scale(2)`;
    dot.style.opacity=0.8;
  });
  setTimeout(()=>{
    finalText.style.opacity=1;
    finalText.style.color='hsl('+(Math.random()*360)+',100%,50%)';
  },2000);
}
</script>
</body>
</html>
